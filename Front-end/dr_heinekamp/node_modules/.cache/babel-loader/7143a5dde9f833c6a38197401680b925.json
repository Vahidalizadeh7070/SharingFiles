{"ast":null,"code":"var _jsxFileName = \"H:\\\\WebSite Project\\\\dr_heinekamp\\\\Front-end\\\\dr_heinekamp\\\\src\\\\Components\\\\Dashboard\\\\Users\\\\ConvasUsers.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from \"react\";\nimport AuthContext from \"../../../store/auth-context\";\nimport Modal from \"./Modal\";\nimport UsersList from './UsersList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ConvasUsers = props => {\n  _s();\n\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [message, setMessage] = useState('');\n  const [userId, setUserId] = useState(\"\");\n  const fileId = props.FileId;\n\n  const UserId = value => {\n    setUserId(value);\n  };\n\n  const StoreInfo = event => {\n    let url = 'https://localhost:44383/api/share/';\n    let method = '';\n    let UserProfile = {};\n    UserProfile = {\n      userFilesId: fileId,\n      userId: userId\n    };\n    method = 'POST';\n    event.preventDefault();\n    setIsLoading(true);\n    setMessage('');\n    fetch(url, {\n      method: method,\n      body: JSON.stringify(UserProfile),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    }).then(res => {\n      if (res.ok) {\n        setMessage('You have created profile successfully.');\n        setIsLoading(false);\n        props.ChangeStateOfForm();\n        return res.json();\n      } else {\n        return res.json().then(data => {\n          let errorMessage = 'There is an error';\n\n          if (data && data.error && data.error.message) {\n            errorMessage = data.error.message;\n          }\n\n          throw new Error(errorMessage);\n        });\n      }\n    }).catch(error => {\n      setIsLoading(false);\n      setError(error.message);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    onCloseModal: props.onClose,\n    children: /*#__PURE__*/_jsxDEV(UsersList, {\n      userId: UserId\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ConvasUsers, \"8P5nQq/CRWrsS1Xy6+gPcV5Il4o=\");\n\n_c = ConvasUsers;\nexport default ConvasUsers;\n\nvar _c;\n\n$RefreshReg$(_c, \"ConvasUsers\");","map":{"version":3,"names":["React","useContext","useState","AuthContext","Modal","UsersList","ConvasUsers","props","isLoading","setIsLoading","error","setError","message","setMessage","userId","setUserId","fileId","FileId","UserId","value","StoreInfo","event","url","method","UserProfile","userFilesId","preventDefault","fetch","body","JSON","stringify","headers","then","res","ok","ChangeStateOfForm","json","data","errorMessage","Error","catch","onClose"],"sources":["H:/WebSite Project/dr_heinekamp/Front-end/dr_heinekamp/src/Components/Dashboard/Users/ConvasUsers.js"],"sourcesContent":["import React, { useContext, useState } from \"react\"\r\nimport AuthContext from \"../../../store/auth-context\";\r\nimport Modal from \"./Modal\";\r\nimport UsersList from './UsersList';\r\n\r\n\r\nconst ConvasUsers = (props) => {\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [error, setError] = useState('');\r\n    const [message, setMessage] = useState('');\r\n    const [userId, setUserId] = useState(\"\");\r\n    const fileId = props.FileId;\r\n\r\n    const UserId = (value) =>\r\n    {\r\n        setUserId(value);\r\n    }\r\n\r\n    const StoreInfo = event => {\r\n        let url = 'https://localhost:44383/api/share/';\r\n        let method = '';\r\n        let UserProfile = {};\r\n\r\n        UserProfile = {\r\n            userFilesId: fileId,\r\n            userId: userId,\r\n        }\r\n        method = 'POST'\r\n\r\n\r\n        event.preventDefault();\r\n        setIsLoading(true);\r\n        setMessage('');\r\n\r\n        fetch(url,\r\n            {\r\n                method: method,\r\n                body: JSON.stringify(UserProfile),\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            }\r\n        ).then(res => {\r\n            if (res.ok) {\r\n                setMessage('You have created profile successfully.');\r\n\r\n\r\n                setIsLoading(false);\r\n                props.ChangeStateOfForm();\r\n                return res.json();\r\n            }\r\n            else {\r\n                return res.json().then((data) => {\r\n                    let errorMessage = 'There is an error';\r\n                    if (data && data.error && data.error.message) {\r\n                        errorMessage = data.error.message;\r\n                    }\r\n                    throw new Error(errorMessage);\r\n                });\r\n            }\r\n        }).catch((error) => {\r\n            setIsLoading(false);\r\n            setError(error.message);\r\n        });\r\n    }\r\n\r\n  \r\n\r\n    return (\r\n        <Modal onCloseModal={props.onClose}>\r\n            <UsersList  userId={UserId}/>\r\n        </Modal>\r\n    )\r\n}\r\nexport default ConvasUsers;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,QAA5B,QAA4C,OAA5C;AACA,OAAOC,WAAP,MAAwB,6BAAxB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,SAAP,MAAsB,aAAtB;;;AAGA,MAAMC,WAAW,GAAIC,KAAD,IAAW;EAAA;;EAC3B,MAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BP,QAAQ,CAAC,KAAD,CAA1C;EACA,MAAM,CAACQ,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACU,OAAD,EAAUC,UAAV,IAAwBX,QAAQ,CAAC,EAAD,CAAtC;EACA,MAAM,CAACY,MAAD,EAASC,SAAT,IAAsBb,QAAQ,CAAC,EAAD,CAApC;EACA,MAAMc,MAAM,GAAGT,KAAK,CAACU,MAArB;;EAEA,MAAMC,MAAM,GAAIC,KAAD,IACf;IACIJ,SAAS,CAACI,KAAD,CAAT;EACH,CAHD;;EAKA,MAAMC,SAAS,GAAGC,KAAK,IAAI;IACvB,IAAIC,GAAG,GAAG,oCAAV;IACA,IAAIC,MAAM,GAAG,EAAb;IACA,IAAIC,WAAW,GAAG,EAAlB;IAEAA,WAAW,GAAG;MACVC,WAAW,EAAET,MADH;MAEVF,MAAM,EAAEA;IAFE,CAAd;IAIAS,MAAM,GAAG,MAAT;IAGAF,KAAK,CAACK,cAAN;IACAjB,YAAY,CAAC,IAAD,CAAZ;IACAI,UAAU,CAAC,EAAD,CAAV;IAEAc,KAAK,CAACL,GAAD,EACD;MACIC,MAAM,EAAEA,MADZ;MAEIK,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,WAAf,CAFV;MAGIO,OAAO,EAAE;QACL,gBAAgB;MADX;IAHb,CADC,CAAL,CAQEC,IARF,CAQOC,GAAG,IAAI;MACV,IAAIA,GAAG,CAACC,EAAR,EAAY;QACRrB,UAAU,CAAC,wCAAD,CAAV;QAGAJ,YAAY,CAAC,KAAD,CAAZ;QACAF,KAAK,CAAC4B,iBAAN;QACA,OAAOF,GAAG,CAACG,IAAJ,EAAP;MACH,CAPD,MAQK;QACD,OAAOH,GAAG,CAACG,IAAJ,GAAWJ,IAAX,CAAiBK,IAAD,IAAU;UAC7B,IAAIC,YAAY,GAAG,mBAAnB;;UACA,IAAID,IAAI,IAAIA,IAAI,CAAC3B,KAAb,IAAsB2B,IAAI,CAAC3B,KAAL,CAAWE,OAArC,EAA8C;YAC1C0B,YAAY,GAAGD,IAAI,CAAC3B,KAAL,CAAWE,OAA1B;UACH;;UACD,MAAM,IAAI2B,KAAJ,CAAUD,YAAV,CAAN;QACH,CANM,CAAP;MAOH;IACJ,CA1BD,EA0BGE,KA1BH,CA0BU9B,KAAD,IAAW;MAChBD,YAAY,CAAC,KAAD,CAAZ;MACAE,QAAQ,CAACD,KAAK,CAACE,OAAP,CAAR;IACH,CA7BD;EA8BH,CA9CD;;EAkDA,oBACI,QAAC,KAAD;IAAO,YAAY,EAAEL,KAAK,CAACkC,OAA3B;IAAA,uBACI,QAAC,SAAD;MAAY,MAAM,EAAEvB;IAApB;MAAA;MAAA;MAAA;IAAA;EADJ;IAAA;IAAA;IAAA;EAAA,QADJ;AAKH,CAnED;;GAAMZ,W;;KAAAA,W;AAoEN,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}