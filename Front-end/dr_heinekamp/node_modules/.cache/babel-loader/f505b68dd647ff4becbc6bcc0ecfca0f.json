{"ast":null,"code":"import _regeneratorRuntime from\"H:/WebSite Project/dr_heinekamp/Front-end/dr_heinekamp/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"H:/WebSite Project/dr_heinekamp/Front-end/dr_heinekamp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"H:/WebSite Project/dr_heinekamp/Front-end/dr_heinekamp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{Fragment,useCallback,useState,useEffect}from\"react\";import UserItem from\"./UserItem\";import{jsx as _jsx}from\"react/jsx-runtime\";var UserList=function UserList(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),users=_useState4[0],setUsers=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];var RetrieveUsers=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data,loadUsers,key;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoading(true);_context.prev=1;_context.next=4;return fetch('https://sharingfileapp2022.azurewebsites.net/api/users');case 4:response=_context.sent;if(response.ok){_context.next=7;break;}throw new Error('Something went wrong!!!');case 7:_context.next=9;return response.json();case 9:data=_context.sent;loadUsers=[];for(key in data.value){loadUsers.push({id:data.value[key].id,userName:data.value[key].userName});}setUsers(loadUsers);_context.next=18;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](1);setError(_context.t0.message);case 18:setIsLoading(false);case 19:case\"end\":return _context.stop();}}},_callee,null,[[1,15]]);})),[]);useEffect(function(){RetrieveUsers();},[RetrieveUsers]);var content=/*#__PURE__*/_jsx(\"p\",{className:\"fs-4 text-center\",children:\"There is no Users in the list...\"});if(isLoading){content=/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center mt-5 mb-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})})});}if(error){content=/*#__PURE__*/_jsx(\"p\",{className:\"text-danger text-center fs-4\",children:error});}if(users.length>0){content=users.map(function(user){return/*#__PURE__*/_jsx(UserItem,{id:user.id,userName:user.userName,fileId:props.fileId},user.id);});}return/*#__PURE__*/_jsx(Fragment,{children:content});};export default UserList;","map":{"version":3,"names":["React","Fragment","useCallback","useState","useEffect","UserItem","UserList","props","isLoading","setIsLoading","users","setUsers","error","setError","RetrieveUsers","fetch","response","ok","Error","json","data","loadUsers","key","value","push","id","userName","message","content","length","map","user","fileId"],"sources":["H:/WebSite Project/dr_heinekamp/Front-end/dr_heinekamp/src/Components/Dashboard/Users/UsersList.js"],"sourcesContent":["import React, { Fragment, useCallback, useState, useEffect } from \"react\"\r\nimport UserItem from \"./UserItem\";\r\n\r\nconst UserList = (props) => {\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [users, setUsers] = useState([]);\r\n    const [error, setError] = useState(null);\r\n\r\n    const RetrieveUsers = useCallback(async () => {\r\n        setIsLoading(true);\r\n        try {\r\n            const response = await fetch('https://sharingfileapp2022.azurewebsites.net/api/users');\r\n            if (!response.ok) {\r\n                throw new Error('Something went wrong!!!');\r\n            }\r\n            const data = await response.json();\r\n            const loadUsers = [];\r\n            for (const key in data.value) {\r\n\r\n                loadUsers.push(\r\n                    {\r\n                        id: data.value[key].id,\r\n                        userName: data.value[key].userName\r\n                    }\r\n                );\r\n            }\r\n            setUsers(loadUsers);\r\n        }\r\n        catch (error) {\r\n            setError(error.message);\r\n        }\r\n        setIsLoading(false);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        RetrieveUsers();\r\n    }, [RetrieveUsers])\r\n\r\n    let content = <p className='fs-4 text-center'>There is no Users in the list...</p>;\r\n    if (isLoading) {\r\n        content = (\r\n            <div className=\"d-flex justify-content-center mt-5 mb-5\">\r\n                <div className=\"spinner-border\" role=\"status\">\r\n                    <span className=\"visually-hidden\">Loading...</span>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    if (error) {\r\n        content = <p className='text-danger text-center fs-4'>{error}</p>;\r\n    }\r\n    if (users.length > 0) {\r\n        content = (\r\n            users.map(user =>\r\n                <UserItem\r\n                    id={user.id}\r\n                    key={user.id}\r\n                    userName={user.userName}\r\n                    fileId={props.fileId}\r\n                />\r\n            )\r\n        )\r\n    }\r\n    return (\r\n        <Fragment>\r\n            {content}\r\n        </Fragment>\r\n    )\r\n}\r\nexport default UserList;"],"mappings":"obAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,WAA1B,CAAuCC,QAAvC,CAAiDC,SAAjD,KAAkE,OAAlE,CACA,MAAOC,SAAP,KAAqB,YAArB,C,2CAEA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,CAACC,KAAD,CAAW,CACxB,cAAkCJ,QAAQ,CAAC,KAAD,CAA1C,wCAAOK,SAAP,eAAkBC,YAAlB,eACA,eAA0BN,QAAQ,CAAC,EAAD,CAAlC,yCAAOO,KAAP,eAAcC,QAAd,eACA,eAA0BR,QAAQ,CAAC,IAAD,CAAlC,yCAAOS,KAAP,eAAcC,QAAd,eAEA,GAAMC,cAAa,CAAGZ,WAAW,wEAAC,qKAC9BO,YAAY,CAAC,IAAD,CAAZ,CAD8B,sCAGHM,MAAK,CAAC,wDAAD,CAHF,QAGpBC,QAHoB,kBAIrBA,QAAQ,CAACC,EAJY,8BAKhB,IAAIC,MAAJ,CAAU,yBAAV,CALgB,8BAOPF,SAAQ,CAACG,IAAT,EAPO,QAOpBC,IAPoB,eAQpBC,SARoB,CAQR,EARQ,CAS1B,IAAWC,GAAX,GAAkBF,KAAI,CAACG,KAAvB,CAA8B,CAE1BF,SAAS,CAACG,IAAV,CACI,CACIC,EAAE,CAAEL,IAAI,CAACG,KAAL,CAAWD,GAAX,EAAgBG,EADxB,CAEIC,QAAQ,CAAEN,IAAI,CAACG,KAAL,CAAWD,GAAX,EAAgBI,QAF9B,CADJ,EAMH,CACDf,QAAQ,CAACU,SAAD,CAAR,CAlB0B,iFAqB1BR,QAAQ,CAAC,YAAMc,OAAP,CAAR,CArB0B,QAuB9BlB,YAAY,CAAC,KAAD,CAAZ,CAvB8B,qEAAD,GAwB9B,EAxB8B,CAAjC,CA0BAL,SAAS,CAAC,UAAM,CACZU,aAAa,GAChB,CAFQ,CAEN,CAACA,aAAD,CAFM,CAAT,CAIA,GAAIc,QAAO,cAAG,UAAG,SAAS,CAAC,kBAAb,8CAAd,CACA,GAAIpB,SAAJ,CAAe,CACXoB,OAAO,cACH,YAAK,SAAS,CAAC,yCAAf,uBACI,YAAK,SAAS,CAAC,gBAAf,CAAgC,IAAI,CAAC,QAArC,uBACI,aAAM,SAAS,CAAC,iBAAhB,wBADJ,EADJ,EADJ,CAOH,CACD,GAAIhB,KAAJ,CAAW,CACPgB,OAAO,cAAG,UAAG,SAAS,CAAC,8BAAb,UAA6ChB,KAA7C,EAAV,CACH,CACD,GAAIF,KAAK,CAACmB,MAAN,CAAe,CAAnB,CAAsB,CAClBD,OAAO,CACHlB,KAAK,CAACoB,GAAN,CAAU,SAAAC,IAAI,qBACV,KAAC,QAAD,EACI,EAAE,CAAEA,IAAI,CAACN,EADb,CAGI,QAAQ,CAAEM,IAAI,CAACL,QAHnB,CAII,MAAM,CAAEnB,KAAK,CAACyB,MAJlB,EAESD,IAAI,CAACN,EAFd,CADU,EAAd,CADJ,CAUH,CACD,mBACI,KAAC,QAAD,WACKG,OADL,EADJ,CAKH,CAjED,CAkEA,cAAetB,SAAf"},"metadata":{},"sourceType":"module"}