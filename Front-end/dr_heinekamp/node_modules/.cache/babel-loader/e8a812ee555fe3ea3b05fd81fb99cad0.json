{"ast":null,"code":"import _slicedToArray from\"H:/WebSite Project/dr_heinekamp/Front-end/dr_heinekamp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useCallback,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";var AuthContext=/*#__PURE__*/React.createContext({email:'',token:'',userId:'',isLoggedIn:false,login:function login(token){},logout:function logout(){}});var retrieveStoredToken=function retrieveStoredToken(){var storedToken=localStorage.getItem('token');var storedemail=localStorage.getItem('email');var storeduserId=localStorage.getItem('userId');return{token:storedToken,email:storedemail,userId:storeduserId};};export var AuthContextProvider=function AuthContextProvider(props){var tokenData=retrieveStoredToken();var intialToken;var Email;var UserId;if(tokenData){intialToken=tokenData.token;Email=tokenData.email;UserId=tokenData.userId;}var _useState=useState(intialToken),_useState2=_slicedToArray(_useState,2),token=_useState2[0],setToken=_useState2[1];var _useState3=useState(Email),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(UserId),_useState6=_slicedToArray(_useState5,2),userId=_useState6[0],setUserId=_useState6[1];var userIsLoggedIn=!!token;var logoutHandler=useCallback(function(){localStorage.removeItem('token');localStorage.removeItem('email');localStorage.removeItem('userId');setToken(null);setEmail('');setUserId('');},[]);var loginHandler=function loginHandler(token,email,userId){localStorage.setItem('token',token);localStorage.setItem('email',email);localStorage.setItem('userId',userId);setToken(token);setEmail(email);setUserId(userId);};var contextToken={email:email,token:token,isLoggedIn:userIsLoggedIn,login:loginHandler,logout:logoutHandler,userId:userId};return/*#__PURE__*/_jsx(AuthContext.Provider,{value:contextToken,children:props.children});};export default AuthContext;","map":{"version":3,"names":["React","useCallback","useState","AuthContext","createContext","email","token","userId","isLoggedIn","login","logout","retrieveStoredToken","storedToken","localStorage","getItem","storedemail","storeduserId","AuthContextProvider","props","tokenData","intialToken","Email","UserId","setToken","setEmail","setUserId","userIsLoggedIn","logoutHandler","removeItem","loginHandler","setItem","contextToken","children"],"sources":["H:/WebSite Project/dr_heinekamp/Front-end/dr_heinekamp/src/store/auth-context.js"],"sourcesContent":["import React, { useCallback, useState } from \"react\";\r\n\r\n\r\nconst AuthContext = React.createContext(\r\n    {\r\n        email: '',\r\n        token: '',\r\n        userId:'',\r\n        isLoggedIn: false,\r\n        login: (token) => { },\r\n        logout: () => { }\r\n    });\r\n\r\n\r\nconst retrieveStoredToken = () => {\r\n    const storedToken = localStorage.getItem('token');\r\n    const storedemail = localStorage.getItem('email');\r\n    const storeduserId = localStorage.getItem('userId');\r\n    return {\r\n        token: storedToken,\r\n        email: storedemail,\r\n        userId: storeduserId\r\n    };\r\n}\r\n\r\nexport const AuthContextProvider = (props) => {\r\n    const tokenData = retrieveStoredToken();\r\n\r\n    let intialToken;\r\n    let Email;\r\n    let UserId;\r\n    if (tokenData) {\r\n        intialToken = tokenData.token;\r\n        Email = tokenData.email;\r\n        UserId = tokenData.userId;\r\n    }\r\n    const [token, setToken] = useState(intialToken);\r\n    const [email, setEmail] = useState(Email);\r\n    const [userId, setUserId] = useState(UserId);\r\n    const userIsLoggedIn = !!token;\r\n\r\n\r\n    const logoutHandler = useCallback(() => {\r\n        localStorage.removeItem('token');\r\n        localStorage.removeItem('email');\r\n        localStorage.removeItem('userId');\r\n        setToken(null);\r\n        setEmail('');\r\n        setUserId('');\r\n    }, [])\r\n\r\n    const loginHandler = (token,  email, userId) => {\r\n        \r\n        localStorage.setItem('token', token);\r\n        localStorage.setItem('email', email);\r\n        localStorage.setItem('userId', userId);\r\n        setToken(token);\r\n        setEmail(email);\r\n        setUserId(userId);\r\n    }\r\n\r\n\r\n    const contextToken = {\r\n        email: email,\r\n        token: token,\r\n        isLoggedIn: userIsLoggedIn,\r\n        login: loginHandler,\r\n        logout: logoutHandler,\r\n        userId: userId\r\n    }\r\n\r\n    return <AuthContext.Provider value={contextToken}>\r\n        {props.children}\r\n    </AuthContext.Provider>\r\n}\r\n\r\nexport default AuthContext;"],"mappings":"4IAAA,MAAOA,MAAP,EAAgBC,WAAhB,CAA6BC,QAA7B,KAA6C,OAA7C,C,2CAGA,GAAMC,YAAW,cAAGH,KAAK,CAACI,aAAN,CAChB,CACIC,KAAK,CAAE,EADX,CAEIC,KAAK,CAAE,EAFX,CAGIC,MAAM,CAAC,EAHX,CAIIC,UAAU,CAAE,KAJhB,CAKIC,KAAK,CAAE,eAACH,KAAD,CAAW,CAAG,CALzB,CAMII,MAAM,CAAE,iBAAM,CAAG,CANrB,CADgB,CAApB,CAWA,GAAMC,oBAAmB,CAAG,QAAtBA,oBAAsB,EAAM,CAC9B,GAAMC,YAAW,CAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAApB,CACA,GAAMC,YAAW,CAAGF,YAAY,CAACC,OAAb,CAAqB,OAArB,CAApB,CACA,GAAME,aAAY,CAAGH,YAAY,CAACC,OAAb,CAAqB,QAArB,CAArB,CACA,MAAO,CACHR,KAAK,CAAEM,WADJ,CAEHP,KAAK,CAAEU,WAFJ,CAGHR,MAAM,CAAES,YAHL,CAAP,CAKH,CATD,CAWA,MAAO,IAAMC,oBAAmB,CAAG,QAAtBA,oBAAsB,CAACC,KAAD,CAAW,CAC1C,GAAMC,UAAS,CAAGR,mBAAmB,EAArC,CAEA,GAAIS,YAAJ,CACA,GAAIC,MAAJ,CACA,GAAIC,OAAJ,CACA,GAAIH,SAAJ,CAAe,CACXC,WAAW,CAAGD,SAAS,CAACb,KAAxB,CACAe,KAAK,CAAGF,SAAS,CAACd,KAAlB,CACAiB,MAAM,CAAGH,SAAS,CAACZ,MAAnB,CACH,CACD,cAA0BL,QAAQ,CAACkB,WAAD,CAAlC,wCAAOd,KAAP,eAAciB,QAAd,eACA,eAA0BrB,QAAQ,CAACmB,KAAD,CAAlC,yCAAOhB,KAAP,eAAcmB,QAAd,eACA,eAA4BtB,QAAQ,CAACoB,MAAD,CAApC,yCAAOf,MAAP,eAAekB,SAAf,eACA,GAAMC,eAAc,CAAG,CAAC,CAACpB,KAAzB,CAGA,GAAMqB,cAAa,CAAG1B,WAAW,CAAC,UAAM,CACpCY,YAAY,CAACe,UAAb,CAAwB,OAAxB,EACAf,YAAY,CAACe,UAAb,CAAwB,OAAxB,EACAf,YAAY,CAACe,UAAb,CAAwB,QAAxB,EACAL,QAAQ,CAAC,IAAD,CAAR,CACAC,QAAQ,CAAC,EAAD,CAAR,CACAC,SAAS,CAAC,EAAD,CAAT,CACH,CAPgC,CAO9B,EAP8B,CAAjC,CASA,GAAMI,aAAY,CAAG,QAAfA,aAAe,CAACvB,KAAD,CAASD,KAAT,CAAgBE,MAAhB,CAA2B,CAE5CM,YAAY,CAACiB,OAAb,CAAqB,OAArB,CAA8BxB,KAA9B,EACAO,YAAY,CAACiB,OAAb,CAAqB,OAArB,CAA8BzB,KAA9B,EACAQ,YAAY,CAACiB,OAAb,CAAqB,QAArB,CAA+BvB,MAA/B,EACAgB,QAAQ,CAACjB,KAAD,CAAR,CACAkB,QAAQ,CAACnB,KAAD,CAAR,CACAoB,SAAS,CAAClB,MAAD,CAAT,CACH,CARD,CAWA,GAAMwB,aAAY,CAAG,CACjB1B,KAAK,CAAEA,KADU,CAEjBC,KAAK,CAAEA,KAFU,CAGjBE,UAAU,CAAEkB,cAHK,CAIjBjB,KAAK,CAAEoB,YAJU,CAKjBnB,MAAM,CAAEiB,aALS,CAMjBpB,MAAM,CAAEA,MANS,CAArB,CASA,mBAAO,KAAC,WAAD,CAAa,QAAb,EAAsB,KAAK,CAAEwB,YAA7B,UACFb,KAAK,CAACc,QADJ,EAAP,CAGH,CAjDM,CAmDP,cAAe7B,YAAf"},"metadata":{},"sourceType":"module"}