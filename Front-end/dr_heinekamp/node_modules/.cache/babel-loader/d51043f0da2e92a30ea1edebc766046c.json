{"ast":null,"code":"import _slicedToArray from\"H:/WebSite Project/dr_heinekamp/Front-end/dr_heinekamp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{Fragment,useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserItem=function UserItem(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),message=_useState6[0],setMessage=_useState6[1];var fileId=props.fileId;var StoreInfo=function StoreInfo(event){var url='https://sharingfileapp2022.azurewebsites.net/api/share/';var method='';var UserProfile={};UserProfile={userFilesId:fileId,userId:props.id};method='POST';event.preventDefault();setIsLoading(true);setMessage('');fetch(url,{method:method,body:JSON.stringify(UserProfile),headers:{'Content-Type':'application/json'}}).then(function(res){if(res.ok){setMessage('You have shared successfully.');setIsLoading(false);props.ChangeStateOfForm();return res.json();}else{return res.json().then(function(data){var errorMessage='There is an error';if(data&&data.error&&data.error.message){errorMessage=data.error.message;}throw new Error(errorMessage);});}}).catch(function(error){setIsLoading(false);setError(error.message);});};return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"card mb-3 rounded-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:props.userName}),message&&/*#__PURE__*/_jsx(\"div\",{className:\"small fw-light text-danger\",children:message}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-sm btn-warning shadow rounded-3 float-end\",onClick:StoreInfo,children:[isLoading&&/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})})}),!isLoading&&\"Share\"]})]})})});};export default UserItem;","map":{"version":3,"names":["React","Fragment","useState","UserItem","props","isLoading","setIsLoading","error","setError","message","setMessage","fileId","StoreInfo","event","url","method","UserProfile","userFilesId","userId","id","preventDefault","fetch","body","JSON","stringify","headers","then","res","ok","ChangeStateOfForm","json","data","errorMessage","Error","catch","userName"],"sources":["H:/WebSite Project/dr_heinekamp/Front-end/dr_heinekamp/src/Components/Dashboard/Users/UserItem.js"],"sourcesContent":["import React, { Fragment, useState } from \"react\"\r\n\r\nconst UserItem = (props) => {\r\n\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [error, setError] = useState('');\r\n    const [message, setMessage] = useState('');\r\n    const fileId = props.fileId;\r\n\r\n    const StoreInfo = event => {\r\n        let url = 'https://sharingfileapp2022.azurewebsites.net/api/share/';\r\n        let method = '';\r\n        let UserProfile = {};\r\n\r\n        UserProfile = {\r\n            userFilesId: fileId,\r\n            userId: props.id,\r\n        }\r\n        method = 'POST'\r\n        event.preventDefault();\r\n        setIsLoading(true);\r\n        setMessage('');\r\n\r\n        fetch(url,\r\n            {\r\n                method: method,\r\n                body: JSON.stringify(UserProfile),\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            }\r\n        ).then(res => {\r\n            if (res.ok) {\r\n                setMessage('You have shared successfully.');\r\n                setIsLoading(false);\r\n                props.ChangeStateOfForm();\r\n                return res.json();\r\n            }\r\n            else {\r\n                return res.json().then((data) => {\r\n                    let errorMessage = 'There is an error';\r\n                    if (data && data.error && data.error.message) {\r\n                        errorMessage = data.error.message;\r\n                    }\r\n                    throw new Error(errorMessage);\r\n                });\r\n            }\r\n        }).catch((error) => {\r\n            setIsLoading(false);\r\n            setError(error.message);\r\n        });\r\n    }\r\n    return (\r\n        <Fragment>\r\n            <div className=\"card mb-3 rounded-3\">\r\n                <div className=\"card-body\">\r\n                    <h5 className=\"card-title\">{props.userName}</h5>\r\n                    {message && <div className=\"small fw-light text-danger\">{message}</div>}\r\n                    <button className=\"btn btn-sm btn-warning shadow rounded-3 float-end\" onClick={StoreInfo}>\r\n                        {\r\n                        isLoading && <div className=\"d-flex justify-content-center\">\r\n                            <div className=\"spinner-border\" role=\"status\">\r\n                                <span className=\"visually-hidden\">Loading...</span>\r\n                            </div>\r\n                        </div>\r\n                        }\r\n                        {!isLoading && \"Share\"}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\nexport default UserItem;"],"mappings":"4IAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,QAA1B,KAA0C,OAA1C,C,wFAEA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,CAACC,KAAD,CAAW,CAExB,cAAkCF,QAAQ,CAAC,KAAD,CAA1C,wCAAOG,SAAP,eAAkBC,YAAlB,eACA,eAA0BJ,QAAQ,CAAC,EAAD,CAAlC,yCAAOK,KAAP,eAAcC,QAAd,eACA,eAA8BN,QAAQ,CAAC,EAAD,CAAtC,yCAAOO,OAAP,eAAgBC,UAAhB,eACA,GAAMC,OAAM,CAAGP,KAAK,CAACO,MAArB,CAEA,GAAMC,UAAS,CAAG,QAAZA,UAAY,CAAAC,KAAK,CAAI,CACvB,GAAIC,IAAG,CAAG,yDAAV,CACA,GAAIC,OAAM,CAAG,EAAb,CACA,GAAIC,YAAW,CAAG,EAAlB,CAEAA,WAAW,CAAG,CACVC,WAAW,CAAEN,MADH,CAEVO,MAAM,CAAEd,KAAK,CAACe,EAFJ,CAAd,CAIAJ,MAAM,CAAG,MAAT,CACAF,KAAK,CAACO,cAAN,GACAd,YAAY,CAAC,IAAD,CAAZ,CACAI,UAAU,CAAC,EAAD,CAAV,CAEAW,KAAK,CAACP,GAAD,CACD,CACIC,MAAM,CAAEA,MADZ,CAEIO,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeR,WAAf,CAFV,CAGIS,OAAO,CAAE,CACL,eAAgB,kBADX,CAHb,CADC,CAAL,CAQEC,IARF,CAQO,SAAAC,GAAG,CAAI,CACV,GAAIA,GAAG,CAACC,EAAR,CAAY,CACRlB,UAAU,CAAC,+BAAD,CAAV,CACAJ,YAAY,CAAC,KAAD,CAAZ,CACAF,KAAK,CAACyB,iBAAN,GACA,MAAOF,IAAG,CAACG,IAAJ,EAAP,CACH,CALD,IAMK,CACD,MAAOH,IAAG,CAACG,IAAJ,GAAWJ,IAAX,CAAgB,SAACK,IAAD,CAAU,CAC7B,GAAIC,aAAY,CAAG,mBAAnB,CACA,GAAID,IAAI,EAAIA,IAAI,CAACxB,KAAb,EAAsBwB,IAAI,CAACxB,KAAL,CAAWE,OAArC,CAA8C,CAC1CuB,YAAY,CAAGD,IAAI,CAACxB,KAAL,CAAWE,OAA1B,CACH,CACD,KAAM,IAAIwB,MAAJ,CAAUD,YAAV,CAAN,CACH,CANM,CAAP,CAOH,CACJ,CAxBD,EAwBGE,KAxBH,CAwBS,SAAC3B,KAAD,CAAW,CAChBD,YAAY,CAAC,KAAD,CAAZ,CACAE,QAAQ,CAACD,KAAK,CAACE,OAAP,CAAR,CACH,CA3BD,EA4BH,CA1CD,CA2CA,mBACI,KAAC,QAAD,wBACI,YAAK,SAAS,CAAC,qBAAf,uBACI,aAAK,SAAS,CAAC,WAAf,wBACI,WAAI,SAAS,CAAC,YAAd,UAA4BL,KAAK,CAAC+B,QAAlC,EADJ,CAEK1B,OAAO,eAAI,YAAK,SAAS,CAAC,4BAAf,UAA6CA,OAA7C,EAFhB,cAGI,gBAAQ,SAAS,CAAC,mDAAlB,CAAsE,OAAO,CAAEG,SAA/E,WAEIP,SAAS,eAAI,YAAK,SAAS,CAAC,+BAAf,uBACT,YAAK,SAAS,CAAC,gBAAf,CAAgC,IAAI,CAAC,QAArC,uBACI,aAAM,SAAS,CAAC,iBAAhB,wBADJ,EADS,EAFjB,CAQK,CAACA,SAAD,EAAc,OARnB,GAHJ,GADJ,EADJ,EADJ,CAoBH,CAtED,CAuEA,cAAeF,SAAf"},"metadata":{},"sourceType":"module"}